(window.webpackJsonp=window.webpackJsonp||[]).push([[564],{1564:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E},Question:function(){return Q},getLinkOrTextNode:function(){return D}});n(4916),n(5306);var r=n(1942),i=n.n(r),a=n(2991),s=n.n(a),o=n(3109),c=n.n(o),u=(n(5666),n(1161)),l=n.n(u),d=n(7766),h=n.n(d),f=n(1222),p=n.n(f),v=n(4382),g=n.n(v),w=n(7672),z=n.n(w),b=n(2386),m=n(4383),A=n(77),S=n(3735),_=n(9067),x=m.h.getStore(),k=function(e){return(e||"").toLowerCase().replace(/\s/g,"")},y=(0,b.az)(Q,{data:{question_level:"Loading",question:"Finding your question",hint:[]}}),E=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=e.call.apply(e,h()(t=[this]).call(t,i))||this,z()(p()(n),"state",{fetchedQuestion:null,isFetching:!1,answer:"",isAwaitingAnswer:!1,incorrect:!1}),z()(p()(n),"onInput",(function(e){return n.setState({answer:k(e.target.value)})})),z()(p()(n),"_submit",l()(c().mark((function e(){var t,r,i,a,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.state.isAwaitingAnswer&&!n.state.incorrect){e.next=2;break}return e.abrupt("return");case 2:if(t=n.state.answer){e.next=5;break}return e.abrupt("return");case 5:return n.setState({isAwaitingAnswer:!0}),r={answer:t},e.next=9,(0,S.V)(A.hY.answerQuestion,r);case 9:if(i=e.sent,a=i.data,!(s=a.error||i.error)){e.next=14;break}return e.abrupt("return",n.setState({hasError:s,isFetching:!1,isAwaitingAnswer:!1}));case 14:if(!a.result){e.next=16;break}return e.abrupt("return",n.proceedToNextLevel());case 16:n.setState({isAwaitingAnswer:!1,incorrect:!0});case 17:case"end":return e.stop()}}),e)})))),z()(p()(n),"proceedToNextLevel",(function(){n.setState({fetchedQuestion:null,isAwaitingAnswer:!1,incorrect:!1,answer:""})})),z()(p()(n),"resetError",(function(){n.setState({incorrect:!1,hasError:null}),n.__focusAnswer()})),n}g()(t,e);var n=t.prototype;return n.componentDidMount=function(){if(!x.isLoggedIn)return(0,b.uX)("/login?next=/play");this.fetchQuestion()},n.componentDidUpdate=function(){if(null==this.state.fetchedQuestion)return this.fetchQuestion()},n.fetchQuestion=function(){var e=l()(c().mark((function e(){var t,n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.isFetching&&(x.eventBegan||x.userData.is_admin)){e.next=2;break}return e.abrupt("return");case 2:return this.setState({isFetching:!0}),e.next=5,(0,S.A)(A.hY.getQuestion);case 5:if(t=e.sent,!(n=t.error||t.data.error)){e.next=9;break}return e.abrupt("return",this.setState({hasError:n,isFetching:!1,fetchedQuestion:1}));case 9:r=t.data,this.setState({fetchedQuestion:r,isFetching:!1});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.__focusAnswer=function(){var e=document.getElementById("answer-input");e&&e.focus()},n.render=function(e,t){return t.hasError?(0,b.az)(_.OK,{errorHead:"Can't play",reasons:[t.hasError],close:this.resetError}):x.isLoggedIn&&x.userData.is_disqualified?(0,b.az)("div",{class:{fontSize:"5rem"},children:["Disqualified!",(0,b.az)("div",{children:(0,b.az)(b.A,{href:"/why-am-i-disqualified",children:"Learn More"})})]}):x.eventBegan||x.isLoggedIn&&x.userData.is_admin?(0,b.az)(b.HY,{children:[t.incorrect&&(0,b.az)(b.HY,{children:[(0,b.az)("div",{class:"mask"}),(0,b.az)(_.OK,{errorHead:"Nope",reasons:["That is not the right answer"],close:this.resetError})]}),t.isFetching||!t.fetchedQuestion?y:(0,b.az)(Q,{data:t.fetchedQuestion,value:t.answer,onInput:this.onInput,onSubmit:this._submit}),t.isAwaitingAnswer&&"Checking your answer...",(0,b.az)("div",{class:"hint-help",style:{margin:"auto",width:"70%"},children:[(0,b.az)("div",{children:"Find Hints On:"}),(0,b.az)(_.r8,{})]})]}):(0,b.az)("div",{style:{fontSize:"4rem"},children:"Not yet"})},t}(b.wA),I={autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:!1,style:{width:"90%",marginTop:"2rem"}};function Q(e){var t,n=e.data,r=e.value,a=e.onInput,o=e.onSubmit,c=e.disableInput;return n.game_over?"You win (?)":(0,b.az)("form",{action:"javascript:",onSubmit:o,children:[(0,b.az)("div",{class:"question-num",children:["Question - ",n.question_level]}),(0,b.az)("div",{class:"question-card",children:[(0,b.az)("div",{children:D(n.question)}),(0,b.az)("div",{class:"question-hint",children:n.hint&&!!n.hint.length&&s()(t=n.hint).call(t,(function(e,t){return(0,b.az)(q,{data:e,i:t})}))}),!c&&(0,b.az)("input",i()({id:"answer-input",class:"paper-input",placeholder:"Answer",onInput:a,value:r},I))]}),!c&&(0,b.az)("button",{class:"action-button heading-text sbm-button hoverable",children:"Submit"})]})}function D(e){if("string"==typeof e)return e;var t=e.type,n=e.value;return"text"===t?n:"link"===t?(0,b.az)("a",{target:"_blank",href:n,style:{textDecoration:"underline",color:"var(--spec-color)",wordBreak:"break-all"},children:n}):void 0}function q(e){var t=e.data,n=e.i;return t&&!!t.value&&(0,b.az)("div",{children:["Hint "+(n+1)+": ",D(t)]})}},9067:function(e,t,n){"use strict";n.d(t,{OK:function(){return g},Pt:function(){return w},GI:function(){return z},r8:function(){return b}});var r=n(2991),i=n.n(r),a=n(7766),s=n.n(a),o=n(1222),c=n.n(o),u=n(4382),l=n.n(u),d=n(7672),h=n.n(d),f=n(1942),p=n.n(f),v=n(2386);function g(e){return(0,v.az)(z,p()(p()({},e),{},{title:"Something Ain't Right"}))}var w=/([^\w]|_)/g,z=function(e){function t(){for(var t,n,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=e.call.apply(e,s()(t=[this]).call(t,i))||this,h()(c()(n),"__id",Math.random()),n}l()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=document.getElementById(""+this.__id);e&&e.focus()},n.render=function(e){var t;return(0,v.az)("div",{class:"app-popup",children:[(0,v.az)("div",{class:"heading-text clr app-popup-title",children:e.title}),(0,v.az)("div",{children:e.errorHead}),(0,v.az)("div",{class:"err-reasons",children:(0,v.az)("div",{children:i()(t=e.reasons||[]).call(t,(function(e){return(0,v.az)("div",{children:[" - ",e]})}))})}),(0,v.az)("button",{id:this.__id,class:"app-popup-close",onClick:e.close,children:"OK"})]})},t}(v.ZP);function b(){return(0,v.az)("div",{class:"social-link-container",children:[(0,v.az)("a",{target:"_blank",href:"https://discord.gg/fz8e6Df",class:"heading-text clr hoverable",children:"Discord"}),(0,v.az)("a",{target:"_blank",href:"https://twitter.com/halocrypt1",class:"heading-text clr hoverable",children:"Twitter"})]})}},5306:function(e,t,n){"use strict";var r=n(7007),i=n(9670),a=n(7908),s=n(7466),o=n(9958),c=n(4488),u=n(1530),l=n(7651),d=Math.max,h=Math.min,f=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g;r("replace",2,(function(e,t,n,r){var g=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,w=r.REPLACE_KEEPS_$0,z=g?"$":"$0";return[function(n,r){var i=c(this),a=null==n?void 0:n[e];return void 0!==a?a.call(n,i,r):t.call(String(i),n,r)},function(e,r){if(!g&&w||"string"==typeof r&&-1===r.indexOf(z)){var a=n(t,e,this,r);if(a.done)return a.value}var c=i(e),f=String(this),p="function"==typeof r;p||(r=String(r));var v=c.global;if(v){var m=c.unicode;c.lastIndex=0}for(var A=[];;){var S=l(c,f);if(null===S)break;if(A.push(S),!v)break;""===String(S[0])&&(c.lastIndex=u(f,s(c.lastIndex),m))}for(var _,x="",k=0,y=0;y<A.length;y++){S=A[y];for(var E=String(S[0]),I=d(h(o(S.index),f.length),0),Q=[],D=1;D<S.length;D++)Q.push(void 0===(_=S[D])?_:String(_));var q=S.groups;if(p){var L=[E].concat(Q,I,f);void 0!==q&&L.push(q);var F=String(r.apply(void 0,L))}else F=b(E,f,I,Q,q,r);I>=k&&(x+=f.slice(k,I)+F,k=I+E.length)}return x+f.slice(k)}];function b(e,n,r,i,s,o){var c=r+e.length,u=i.length,l=v;return void 0!==s&&(s=a(s),l=p),t.call(o,l,(function(t,a){var o;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(c);case"<":o=s[a.slice(1,-1)];break;default:var l=+a;if(0===l)return t;if(l>u){var d=f(l/10);return 0===d?t:d<=u?void 0===i[d-1]?a.charAt(1):i[d-1]+a.charAt(1):t}o=i[l-1]}return void 0===o?"":o}))}}))}}]);